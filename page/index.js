(()=>{function s(t){if(t.length===1&&t.match(/[A-Za-z]/))return t.toUpperCase()}function y(t){let e=[];for(let r of t){let o=s(r);if(!o)return;e.push(o)}return e}var a=class{constructor(e,r){this.chorder=r;e.addEventListener("keydown",this.handleKeyDown.bind(this)),e.addEventListener("keyup",this.handleKeyUp.bind(this))}handleKeyDown(e){let r=s(e.key);!r||this.chorder.press(r)}handleKeyUp(e){let r=s(e.key);if(!r)return;let o=this.chorder.release(r);console.log(o)}};var n=class{constructor(e){this.keys=u(e)}equals(e){return this.keys.length!==e.keys.length?!1:this.keys.every(r=>e.keys.includes(r))}};function u(t){let e=[];for(let r of t)e.includes(r)||e.push(r);return e}var i=class{constructor(e){this.map=e;this.keyStates=new Map}press(e){this.keyStates.set(e,"pressed")}release(e){if(this.keyStates.set(e,"released"),[...this.keyStates].every(([r,o])=>o==="released")){let r=d(this.keyStates);return this.keyStates.clear(),this.map.map(r)}}};function d(t){return new n([...t].map(([e])=>e))}var h=`
  _a a _i i _u u _e e _o o
  ka ga ki gi ku gu ke ge ko go
  sa za shi ji su zu se ze so zo
  ta da chi di _tsu tsu du te de to do
  na ni nu ne no
  ha ba pa hi bi pi hu bu pu he be pe ho bo po
  ma mi mu me mo
  _ya ya _yu yu _yo yo
  ra ri ru re ro
  _wa wa * * wo n vu
`.trim().split(/\s+/).map(t=>t==="*"?[]:t.includes("_")?[t.replace("_","l"),t.replace("_","x")]:[t]).map(t=>t.map(e=>{var r;return new n((r=y(e))!=null?r:[])})).flatMap((t,e)=>t.map(r=>({chord:r,replacement:String.fromCodePoint(e+12353)}))),p=class{map(e){for(let r of h)if(r.chord.equals(e))return r.replacement;return""}};function c(){new a(window,new i(new p))}c();})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2RvbWFpbi9jaG9yZC9LZXkudHMiLCAiLi4vc3JjL2NvbnRyb2xsZXIvS2V5Ym9hcmRDb250cm9sbGVyLnRzIiwgIi4uL3NyYy9kb21haW4vY2hvcmQvQ2hvcmQudHMiLCAiLi4vc3JjL2RvbWFpbi9jaG9yZC9DaG9yZGVyLnRzIiwgIi4uL3NyYy9kb21haW4vY2hvcmQvSmFwYW5lc2VDaG9yZE1hcC50cyIsICIuLi9zcmMvaW5kZXgudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImV4cG9ydCB0eXBlIEtleSA9XG4gIHwgXCJBXCJcbiAgfCBcIkJcIlxuICB8IFwiQ1wiXG4gIHwgXCJEXCJcbiAgfCBcIkVcIlxuICB8IFwiRlwiXG4gIHwgXCJHXCJcbiAgfCBcIkhcIlxuICB8IFwiSVwiXG4gIHwgXCJKXCJcbiAgfCBcIktcIlxuICB8IFwiTFwiXG4gIHwgXCJNXCJcbiAgfCBcIk5cIlxuICB8IFwiT1wiXG4gIHwgXCJQXCJcbiAgfCBcIlFcIlxuICB8IFwiUlwiXG4gIHwgXCJTXCJcbiAgfCBcIlRcIlxuICB8IFwiVVwiXG4gIHwgXCJWXCJcbiAgfCBcIldcIlxuICB8IFwiWFwiXG4gIHwgXCJZXCJcbiAgfCBcIlpcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRDaGFyVG9LZXkoY2hhcjogc3RyaW5nKSB7XG4gIGlmIChjaGFyLmxlbmd0aCAhPT0gMSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjaGFyLm1hdGNoKC9bQS1aYS16XS8pKSB7XG4gICAgcmV0dXJuIGNoYXIudG9VcHBlckNhc2UoKSBhcyBLZXk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTdHJpbmdUb0tleShzdHJpbmc6IHN0cmluZykge1xuICBjb25zdCBrZXlzOiBLZXlbXSA9IFtdO1xuXG4gIGZvciAoY29uc3QgY2hhciBvZiBzdHJpbmcpIHtcbiAgICBjb25zdCBrZXkgPSBjb252ZXJ0Q2hhclRvS2V5KGNoYXIpO1xuICAgIGlmICgha2V5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGtleXMucHVzaChrZXkpO1xuICB9XG5cbiAgcmV0dXJuIGtleXM7XG59XG4iLCAiaW1wb3J0IHsgQ2hvcmRlciB9IGZyb20gXCIuLi9kb21haW4vY2hvcmQvQ2hvcmRlclwiO1xuaW1wb3J0IHsgY29udmVydENoYXJUb0tleSB9IGZyb20gXCIuLi9kb21haW4vY2hvcmQvS2V5XCI7XG5cbmV4cG9ydCBjbGFzcyBLZXlib2FyZENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcih3aW5kb3c6IFdpbmRvdywgcHJpdmF0ZSByZWFkb25seSBjaG9yZGVyOiBDaG9yZGVyKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuaGFuZGxlS2V5RG93bi5iaW5kKHRoaXMpKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuaGFuZGxlS2V5VXAuYmluZCh0aGlzKSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBrZXkgPSBjb252ZXJ0Q2hhclRvS2V5KGV2ZW50LmtleSk7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNob3JkZXIucHJlc3Moa2V5KTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBrZXkgPSBjb252ZXJ0Q2hhclRvS2V5KGV2ZW50LmtleSk7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzID0gdGhpcy5jaG9yZGVyLnJlbGVhc2Uoa2V5KTtcbiAgICBjb25zb2xlLmxvZyhzKTtcbiAgfVxufVxuIiwgImltcG9ydCB7IEtleSB9IGZyb20gXCIuL0tleVwiO1xuXG5leHBvcnQgY2xhc3MgQ2hvcmQge1xuICBwcml2YXRlIHJlYWRvbmx5IGtleXM6IEtleVtdO1xuXG4gIGNvbnN0cnVjdG9yKGtleXM6IEtleVtdKSB7XG4gICAgdGhpcy5rZXlzID0gZGVkdXBlKGtleXMpO1xuICB9XG5cbiAgZXF1YWxzKGNob3JkOiBDaG9yZCkge1xuICAgIGlmICh0aGlzLmtleXMubGVuZ3RoICE9PSBjaG9yZC5rZXlzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmtleXMuZXZlcnkoKGtleSkgPT4gY2hvcmQua2V5cy5pbmNsdWRlcyhrZXkpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWR1cGUoa2V5czogS2V5W10pIHtcbiAgY29uc3QgcmVzdWx0OiBLZXlbXSA9IFtdO1xuXG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBpZiAoIXJlc3VsdC5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCAiaW1wb3J0IHsgQ2hvcmQgfSBmcm9tIFwiLi9DaG9yZFwiO1xuaW1wb3J0IHsgQ2hvcmRNYXAgfSBmcm9tIFwiLi9DaG9yZE1hcFwiO1xuaW1wb3J0IHsgS2V5IH0gZnJvbSBcIi4vS2V5XCI7XG5cbnR5cGUgS2V5U3RhdGUgPSBcInByZXNzZWRcIiB8IFwicmVsZWFzZWRcIjtcblxuZXhwb3J0IGNsYXNzIENob3JkZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGtleVN0YXRlcyA9IG5ldyBNYXA8S2V5LCBLZXlTdGF0ZT4oKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IG1hcDogQ2hvcmRNYXApIHt9XG5cbiAgcHJlc3Moa2V5OiBLZXkpIHtcbiAgICB0aGlzLmtleVN0YXRlcy5zZXQoa2V5LCBcInByZXNzZWRcIik7XG4gIH1cblxuICByZWxlYXNlKGtleTogS2V5KSB7XG4gICAgdGhpcy5rZXlTdGF0ZXMuc2V0KGtleSwgXCJyZWxlYXNlZFwiKTtcblxuICAgIGlmIChbLi4udGhpcy5rZXlTdGF0ZXNdLmV2ZXJ5KChbXywgc3RhdGVdKSA9PiBzdGF0ZSA9PT0gXCJyZWxlYXNlZFwiKSkge1xuICAgICAgY29uc3QgY2hvcmQgPSBjb252ZXJ0S2V5U3RhdGVzVG9DaG9yZCh0aGlzLmtleVN0YXRlcyk7XG4gICAgICB0aGlzLmtleVN0YXRlcy5jbGVhcigpO1xuICAgICAgcmV0dXJuIHRoaXMubWFwLm1hcChjaG9yZCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRLZXlTdGF0ZXNUb0Nob3JkKGtleVN0YXRlczogTWFwPEtleSwgS2V5U3RhdGU+KSB7XG4gIHJldHVybiBuZXcgQ2hvcmQoWy4uLmtleVN0YXRlc10ubWFwKChba2V5XSkgPT4ga2V5KSk7XG59XG4iLCAiaW1wb3J0IHsgQ2hvcmQgfSBmcm9tIFwiLi9DaG9yZFwiO1xuaW1wb3J0IHsgQ2hvcmRNYXAgfSBmcm9tIFwiLi9DaG9yZE1hcFwiO1xuaW1wb3J0IHsgY29udmVydFN0cmluZ1RvS2V5IH0gZnJvbSBcIi4vS2V5XCI7XG5cbmNvbnN0IHJvbWFuVG9IaXJhZ2FuYSA9IGBcbiAgX2EgYSBfaSBpIF91IHUgX2UgZSBfbyBvXG4gIGthIGdhIGtpIGdpIGt1IGd1IGtlIGdlIGtvIGdvXG4gIHNhIHphIHNoaSBqaSBzdSB6dSBzZSB6ZSBzbyB6b1xuICB0YSBkYSBjaGkgZGkgX3RzdSB0c3UgZHUgdGUgZGUgdG8gZG9cbiAgbmEgbmkgbnUgbmUgbm9cbiAgaGEgYmEgcGEgaGkgYmkgcGkgaHUgYnUgcHUgaGUgYmUgcGUgaG8gYm8gcG9cbiAgbWEgbWkgbXUgbWUgbW9cbiAgX3lhIHlhIF95dSB5dSBfeW8geW9cbiAgcmEgcmkgcnUgcmUgcm9cbiAgX3dhIHdhICogKiB3byBuIHZ1XG5gXG4gIC50cmltKClcbiAgLnNwbGl0KC9cXHMrLylcbiAgLm1hcCgocm9tYW4pID0+IHtcbiAgICBpZiAocm9tYW4gPT09IFwiKlwiKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmIChyb21hbi5pbmNsdWRlcyhcIl9cIikpIHtcbiAgICAgIHJldHVybiBbcm9tYW4ucmVwbGFjZShcIl9cIiwgXCJsXCIpLCByb21hbi5yZXBsYWNlKFwiX1wiLCBcInhcIildO1xuICAgIH1cbiAgICByZXR1cm4gW3JvbWFuXTtcbiAgfSlcbiAgLm1hcCgocm9tYW5zKSA9PlxuICAgIHJvbWFucy5tYXAoKHJvbWFuKSA9PiBuZXcgQ2hvcmQoY29udmVydFN0cmluZ1RvS2V5KHJvbWFuKSA/PyBbXSkpXG4gIClcbiAgLmZsYXRNYXAoKGNob3JkcywgaSkgPT5cbiAgICBjaG9yZHMubWFwKChjaG9yZCkgPT4gKHtcbiAgICAgIGNob3JkLFxuICAgICAgcmVwbGFjZW1lbnQ6IFN0cmluZy5mcm9tQ29kZVBvaW50KGkgKyAweDMwNDEpLFxuICAgIH0pKVxuICApO1xuXG5leHBvcnQgY2xhc3MgSmFwYW5lc2VDaG9yZE1hcCBpbXBsZW1lbnRzIENob3JkTWFwIHtcbiAgbWFwKGNob3JkOiBDaG9yZCkge1xuICAgIGZvciAoY29uc3QgZW50cnkgb2Ygcm9tYW5Ub0hpcmFnYW5hKSB7XG4gICAgICBpZiAoZW50cnkuY2hvcmQuZXF1YWxzKGNob3JkKSkge1xuICAgICAgICByZXR1cm4gZW50cnkucmVwbGFjZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBLZXlib2FyZENvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVyL0tleWJvYXJkQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ2hvcmRlciB9IGZyb20gXCIuL2RvbWFpbi9jaG9yZC9DaG9yZGVyXCI7XG5pbXBvcnQgeyBKYXBhbmVzZUNob3JkTWFwIH0gZnJvbSBcIi4vZG9tYWluL2Nob3JkL0phcGFuZXNlQ2hvcmRNYXBcIjtcblxuZnVuY3Rpb24gbWFpbigpIHtcbiAgbmV3IEtleWJvYXJkQ29udHJvbGxlcih3aW5kb3csIG5ldyBDaG9yZGVyKG5ldyBKYXBhbmVzZUNob3JkTWFwKCkpKTtcbn1cblxubWFpbigpO1xuIl0sCiAgIm1hcHBpbmdzIjogIk1BNEJPLFdBQTBCLEVBQWMsQ0FDN0MsR0FBSSxFQUFLLFNBQVcsR0FJaEIsRUFBSyxNQUFNLFVBQVUsRUFDdkIsTUFBTyxHQUFLLFlBQVksQ0FFNUIsQ0FFTyxXQUE0QixFQUFnQixDQUNqRCxHQUFNLEdBQWMsQ0FBQyxFQUVyQixPQUFXLEtBQVEsR0FBUSxDQUN6QixHQUFNLEdBQU0sRUFBaUIsQ0FBSSxFQUNqQyxHQUFJLENBQUMsRUFDSCxPQUVGLEVBQUssS0FBSyxDQUFHLENBQ2YsQ0FFQSxNQUFPLEVBQ1QsQ0MvQ08sV0FBeUIsQ0FDOUIsWUFBWSxFQUFpQyxFQUFrQixDQUFsQixlQUMzQyxFQUFPLGlCQUFpQixVQUFXLEtBQUssY0FBYyxLQUFLLElBQUksQ0FBQyxFQUNoRSxFQUFPLGlCQUFpQixRQUFTLEtBQUssWUFBWSxLQUFLLElBQUksQ0FBQyxDQUM5RCxDQUVRLGNBQWMsRUFBc0IsQ0FDMUMsR0FBTSxHQUFNLEVBQWlCLEVBQU0sR0FBRyxFQUN0QyxBQUFJLENBQUMsR0FJTCxLQUFLLFFBQVEsTUFBTSxDQUFHLENBQ3hCLENBRVEsWUFBWSxFQUFzQixDQUN4QyxHQUFNLEdBQU0sRUFBaUIsRUFBTSxHQUFHLEVBQ3RDLEdBQUksQ0FBQyxFQUNILE9BR0YsR0FBTSxHQUFJLEtBQUssUUFBUSxRQUFRLENBQUcsRUFDbEMsUUFBUSxJQUFJLENBQUMsQ0FDZixDQUNGLEVDekJPLFdBQVksQ0FHakIsWUFBWSxFQUFhLENBQ3ZCLEtBQUssS0FBTyxFQUFPLENBQUksQ0FDekIsQ0FFQSxPQUFPLEVBQWMsQ0FDbkIsTUFBSSxNQUFLLEtBQUssU0FBVyxFQUFNLEtBQUssT0FDM0IsR0FHRixLQUFLLEtBQUssTUFBTSxBQUFDLEdBQVEsRUFBTSxLQUFLLFNBQVMsQ0FBRyxDQUFDLENBQzFELENBQ0YsRUFFQSxXQUFnQixFQUFhLENBQzNCLEdBQU0sR0FBZ0IsQ0FBQyxFQUV2QixPQUFXLEtBQU8sR0FDaEIsQUFBSyxFQUFPLFNBQVMsQ0FBRyxHQUN0QixFQUFPLEtBQUssQ0FBRyxFQUluQixNQUFPLEVBQ1QsQ0N0Qk8sV0FBYyxDQUduQixZQUE2QixFQUFlLENBQWYsV0FGWixlQUFZLEdBQUksSUFFWSxDQUU3QyxNQUFNLEVBQVUsQ0FDZCxLQUFLLFVBQVUsSUFBSSxFQUFLLFNBQVMsQ0FDbkMsQ0FFQSxRQUFRLEVBQVUsQ0FHaEIsR0FGQSxLQUFLLFVBQVUsSUFBSSxFQUFLLFVBQVUsRUFFOUIsQ0FBQyxHQUFHLEtBQUssU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUcsS0FBVyxJQUFVLFVBQVUsRUFBRyxDQUNuRSxHQUFNLEdBQVEsRUFBd0IsS0FBSyxTQUFTLEVBQ3BELFlBQUssVUFBVSxNQUFNLEVBQ2QsS0FBSyxJQUFJLElBQUksQ0FBSyxDQUMzQixDQUNGLENBQ0YsRUFFQSxXQUFpQyxFQUErQixDQUM5RCxNQUFPLElBQUksR0FBTSxDQUFDLEdBQUcsQ0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDLEtBQVMsQ0FBRyxDQUFDLENBQ3JELENDeEJBLEdBQU0sR0FBa0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBWXJCLEtBQUssRUFDTCxNQUFNLEtBQUssRUFDWCxJQUFJLEFBQUMsR0FDQSxJQUFVLElBQ0wsQ0FBQyxFQUVOLEVBQU0sU0FBUyxHQUFHLEVBQ2IsQ0FBQyxFQUFNLFFBQVEsSUFBSyxHQUFHLEVBQUcsRUFBTSxRQUFRLElBQUssR0FBRyxDQUFDLEVBRW5ELENBQUMsQ0FBSyxDQUNkLEVBQ0EsSUFBSSxBQUFDLEdBQ0osRUFBTyxJQUFJLEFBQUMsR0FBTyxDQTVCdkIsTUE0QjBCLFVBQUksR0FBTSxLQUFtQixDQUFLLElBQXhCLE9BQTZCLENBQUMsQ0FBQyxFQUFDLENBQ2xFLEVBQ0MsUUFBUSxDQUFDLEVBQVEsSUFDaEIsRUFBTyxJQUFJLEFBQUMsR0FBVyxFQUNyQixRQUNBLFlBQWEsT0FBTyxjQUFjLEVBQUksS0FBTSxDQUM5QyxFQUFFLENBQ0osRUFFSyxPQUEyQyxDQUNoRCxJQUFJLEVBQWMsQ0FDaEIsT0FBVyxLQUFTLEdBQ2xCLEdBQUksRUFBTSxNQUFNLE9BQU8sQ0FBSyxFQUMxQixNQUFPLEdBQU0sWUFJakIsTUFBTyxFQUNULENBQ0YsRUMzQ0EsWUFBZ0IsQ0FDZCxHQUFJLEdBQW1CLE9BQVEsR0FBSSxHQUFRLEdBQUksRUFBa0IsQ0FBQyxDQUNwRSxDQUVBLEVBQUsiLAogICJuYW1lcyI6IFtdCn0K
