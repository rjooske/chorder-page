(()=>{function h(r){if(r.length===1){if(r===" ")return"space";if(r.match(/[A-Za-z]/))return r.toLowerCase()}}function j(r){let a=[];for(let i of r){let e=h(i);if(!e)return;a.push(e)}return a}var s=class{constructor(a,i){this.textarea=a;this.chorder=i;a.addEventListener("keydown",this.handleKeyDown.bind(this)),a.addEventListener("keyup",this.handleKeyUp.bind(this)),a.addEventListener("compositionupdate",()=>i.reset())}handleKeyDown(a){let i=y(a);!i||(a.preventDefault(),this.chorder.press(i))}handleKeyUp(a){let i=y(a);if(!i)return;a.preventDefault();let e=this.chorder.release(i);if(!e)return;let m=this.textarea.selectionStart,p=this.textarea.selectionEnd;this.textarea.setRangeText(e,m,p);let g=m+e.length;this.textarea.setSelectionRange(g,g)}};function y(r){if(!(r.altKey||r.ctrlKey||r.metaKey||r.shiftKey||r.repeat||r.isComposing))return h(r.key)}var o=class{constructor(a){this.keys=c(a)}equals(a){return this.keys.length!==a.keys.length?!1:this.keys.every(i=>a.keys.includes(i))}contains(a){return this.keys.includes(a)}without(a){return new o([...this.keys].filter(i=>i!==a))}size(){return this.keys.length}};function c(r){let a=[];for(let i of r)a.includes(i)||a.push(i);return a}var n=class{constructor(a){this.map=a;this.keyStates=new Map}press(a){this.keyStates.set(a,"pressed")}release(a){if(this.keyStates.get(a)==="pressed"&&(this.keyStates.set(a,"released"),[...this.keyStates].every(([i,e])=>e==="released"))){let i=l(this.keyStates);return this.keyStates.clear(),this.map.map(i)}}reset(){this.keyStates.clear()}};function l(r){return new o([...r].map(([a])=>a))}var u=[{romajis:["a"],hiragana:"\u3042"},{romajis:["i"],hiragana:"\u3044"},{romajis:["u"],hiragana:"\u3046"},{romajis:["e"],hiragana:"\u3048"},{romajis:["o"],hiragana:"\u304A"},{romajis:["ka"],hiragana:"\u304B"},{romajis:["ki"],hiragana:"\u304D"},{romajis:["ku"],hiragana:"\u304F"},{romajis:["ke"],hiragana:"\u3051"},{romajis:["ko"],hiragana:"\u3053"},{romajis:["sa"],hiragana:"\u3055"},{romajis:["si","shi"],hiragana:"\u3057"},{romajis:["su"],hiragana:"\u3059"},{romajis:["se"],hiragana:"\u305B"},{romajis:["so"],hiragana:"\u305D"},{romajis:["ta"],hiragana:"\u305F"},{romajis:["ti","chi"],hiragana:"\u3061"},{romajis:["tu","tsu"],hiragana:"\u3064"},{romajis:["te"],hiragana:"\u3066"},{romajis:["to"],hiragana:"\u3068"},{romajis:["na"],hiragana:"\u306A"},{romajis:["ni"],hiragana:"\u306B"},{romajis:["nu"],hiragana:"\u306C"},{romajis:["ne"],hiragana:"\u306D"},{romajis:["no"],hiragana:"\u306E"},{romajis:["ha"],hiragana:"\u306F"},{romajis:["hi"],hiragana:"\u3072"},{romajis:["hu","fu"],hiragana:"\u3075"},{romajis:["he"],hiragana:"\u3078"},{romajis:["ho"],hiragana:"\u307B"},{romajis:["ma"],hiragana:"\u307E"},{romajis:["mi"],hiragana:"\u307F"},{romajis:["mu"],hiragana:"\u3080"},{romajis:["me"],hiragana:"\u3081"},{romajis:["mo"],hiragana:"\u3082"},{romajis:["ya"],hiragana:"\u3084"},{romajis:["yu"],hiragana:"\u3086"},{romajis:["yo"],hiragana:"\u3088"},{romajis:["ra"],hiragana:"\u3089"},{romajis:["ri"],hiragana:"\u308A"},{romajis:["ru"],hiragana:"\u308B"},{romajis:["re"],hiragana:"\u308C"},{romajis:["ro"],hiragana:"\u308D"},{romajis:["wa"],hiragana:"\u308F"},{romajis:["wo"],hiragana:"\u3092"},{romajis:["n"],hiragana:"\u3093"},{romajis:["ga"],hiragana:"\u304C"},{romajis:["gi"],hiragana:"\u304E"},{romajis:["gu"],hiragana:"\u3050"},{romajis:["ge"],hiragana:"\u3052"},{romajis:["go"],hiragana:"\u3054"},{romajis:["za"],hiragana:"\u3056"},{romajis:["zi","ji"],hiragana:"\u3058"},{romajis:["zu"],hiragana:"\u305A"},{romajis:["ze"],hiragana:"\u305C"},{romajis:["zo"],hiragana:"\u305E"},{romajis:["da"],hiragana:"\u3060"},{romajis:["di"],hiragana:"\u3062"},{romajis:["du"],hiragana:"\u3065"},{romajis:["de"],hiragana:"\u3067"},{romajis:["do"],hiragana:"\u3069"},{romajis:["ba"],hiragana:"\u3070"},{romajis:["bi"],hiragana:"\u3073"},{romajis:["bu"],hiragana:"\u3076"},{romajis:["be"],hiragana:"\u3079"},{romajis:["bo"],hiragana:"\u307C"},{romajis:["pa"],hiragana:"\u3071"},{romajis:["pi"],hiragana:"\u3074"},{romajis:["pu"],hiragana:"\u3077"},{romajis:["pe"],hiragana:"\u307A"},{romajis:["po"],hiragana:"\u307D"},{romajis:["la","xa"],hiragana:"\u3041"},{romajis:["li","xi"],hiragana:"\u3043"},{romajis:["lu","xu"],hiragana:"\u3045"},{romajis:["le","xe"],hiragana:"\u3047"},{romajis:["lo","xo"],hiragana:"\u3049"},{romajis:["ltu","ltsu","xtu","xtsu"],hiragana:"\u3063"},{romajis:["kya"],hiragana:"\u304D\u3083"},{romajis:["kyu"],hiragana:"\u304D\u3085"},{romajis:["kyo"],hiragana:"\u304D\u3087"},{romajis:["sya","sha"],hiragana:"\u3057\u3083"},{romajis:["syu","shu"],hiragana:"\u3057\u3085"},{romajis:["syo","sho"],hiragana:"\u3057\u3087"},{romajis:["tya","cha"],hiragana:"\u3061\u3083"},{romajis:["tyu","chu"],hiragana:"\u3061\u3085"},{romajis:["tyo","cho"],hiragana:"\u3061\u3087"},{romajis:["nya"],hiragana:"\u306B\u3083"},{romajis:["nyu"],hiragana:"\u306B\u3085"},{romajis:["nyo"],hiragana:"\u306B\u3087"},{romajis:["hya"],hiragana:"\u3072\u3083"},{romajis:["hyu"],hiragana:"\u3072\u3085"},{romajis:["hyo"],hiragana:"\u3072\u3087"},{romajis:["mya"],hiragana:"\u307F\u3083"},{romajis:["myu"],hiragana:"\u307F\u3085"},{romajis:["myo"],hiragana:"\u307F\u3087"},{romajis:["rya"],hiragana:"\u308A\u3083"},{romajis:["ryu"],hiragana:"\u308A\u3085"},{romajis:["ryo"],hiragana:"\u308A\u3087"},{romajis:["gya"],hiragana:"\u304E\u3083"},{romajis:["gyu"],hiragana:"\u304E\u3085"},{romajis:["gyo"],hiragana:"\u304E\u3087"},{romajis:["zya","ja"],hiragana:"\u3058\u3083"},{romajis:["zyu","ju"],hiragana:"\u3058\u3085"},{romajis:["zyo","jo"],hiragana:"\u3058\u3087"},{romajis:["dya"],hiragana:"\u3062\u3083"},{romajis:["dyu"],hiragana:"\u3062\u3085"},{romajis:["dyo"],hiragana:"\u3062\u3087"},{romajis:["bya"],hiragana:"\u3073\u3083"},{romajis:["byu"],hiragana:"\u3073\u3085"},{romajis:["byo"],hiragana:"\u3073\u3087"},{romajis:["pya"],hiragana:"\u3074\u3083"},{romajis:["pyu"],hiragana:"\u3074\u3085"},{romajis:["pyo"],hiragana:"\u3074\u3087"}];var f=u.flatMap(({romajis:r,hiragana:a})=>r.map(i=>j(i)).filter(i=>!!i).map(i=>({chord:new o(i),replacement:a}))),t=class{map(a){let i=a.without("space"),e=K(i);return e?a.contains("space")?k(i)?"":"\u3063"+e.replacement:e.replacement:""}};function K(r){return f.find(a=>a.chord.equals(r))}function k(r){return r.size()!==1?!1:["a","i","u","e","o"].some(i=>r.contains(i))}function x(){let r=document.querySelector("#editor");r instanceof HTMLTextAreaElement&&new s(r,new n(new t))}x();})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2RvbWFpbi9rZXkvS2V5LnRzIiwgIi4uL3NyYy9jb250cm9sbGVyL0VkaXRvci50cyIsICIuLi9zcmMvZG9tYWluL2Nob3JkL0Nob3JkLnRzIiwgIi4uL3NyYy9kb21haW4vY2hvcmQvQ2hvcmRlci50cyIsICIuLi9zcmMvZG9tYWluL2Nob3JkL0phcGFuZXNlQ2hvcmRNYXAudHMiLCAiLi4vc3JjL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJleHBvcnQgdHlwZSBLZXkgPVxuICB8IFwic3BhY2VcIlxuICB8IFwiYVwiXG4gIHwgXCJiXCJcbiAgfCBcImNcIlxuICB8IFwiZFwiXG4gIHwgXCJlXCJcbiAgfCBcImZcIlxuICB8IFwiZ1wiXG4gIHwgXCJoXCJcbiAgfCBcImlcIlxuICB8IFwialwiXG4gIHwgXCJrXCJcbiAgfCBcImxcIlxuICB8IFwibVwiXG4gIHwgXCJuXCJcbiAgfCBcIm9cIlxuICB8IFwicFwiXG4gIHwgXCJxXCJcbiAgfCBcInJcIlxuICB8IFwic1wiXG4gIHwgXCJ0XCJcbiAgfCBcInVcIlxuICB8IFwidlwiXG4gIHwgXCJ3XCJcbiAgfCBcInhcIlxuICB8IFwieVwiXG4gIHwgXCJ6XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0Q2hhclRvS2V5KGNoYXI6IHN0cmluZyk6IEtleSB8IHVuZGVmaW5lZCB7XG4gIGlmIChjaGFyLmxlbmd0aCAhPT0gMSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjaGFyID09PSBcIiBcIikge1xuICAgIHJldHVybiBcInNwYWNlXCI7XG4gIH1cblxuICBpZiAoY2hhci5tYXRjaCgvW0EtWmEtel0vKSkge1xuICAgIHJldHVybiBjaGFyLnRvTG93ZXJDYXNlKCkgYXMgS2V5O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0U3RyaW5nVG9LZXlzKHN0cmluZzogc3RyaW5nKSB7XG4gIGNvbnN0IGtleXM6IEtleVtdID0gW107XG5cbiAgZm9yIChjb25zdCBjaGFyIG9mIHN0cmluZykge1xuICAgIGNvbnN0IGtleSA9IGNvbnZlcnRDaGFyVG9LZXkoY2hhcik7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAga2V5cy5wdXNoKGtleSk7XG4gIH1cblxuICByZXR1cm4ga2V5cztcbn1cbiIsICJpbXBvcnQgeyBDaG9yZGVyIH0gZnJvbSBcIi4uL2RvbWFpbi9jaG9yZC9DaG9yZGVyXCI7XG5pbXBvcnQgeyBjb252ZXJ0Q2hhclRvS2V5IH0gZnJvbSBcIi4uL2RvbWFpbi9rZXkvS2V5XCI7XG5cbmV4cG9ydCBjbGFzcyBFZGl0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRleHRhcmVhOiBIVE1MVGV4dEFyZWFFbGVtZW50LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY2hvcmRlcjogQ2hvcmRlclxuICApIHtcbiAgICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKSk7XG4gICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuaGFuZGxlS2V5VXAuYmluZCh0aGlzKSk7XG4gICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcihcImNvbXBvc2l0aW9udXBkYXRlXCIsICgpID0+IGNob3JkZXIucmVzZXQoKSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBrZXkgPSBjb252ZXJ0S2V5Ym9hcmRFdmVudFRvS2V5KGV2ZW50KTtcbiAgICBpZiAoIWtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB0aGlzLmNob3JkZXIucHJlc3Moa2V5KTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBrZXkgPSBjb252ZXJ0S2V5Ym9hcmRFdmVudFRvS2V5KGV2ZW50KTtcbiAgICBpZiAoIWtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCByZXBsYWNlbWVudCA9IHRoaXMuY2hvcmRlci5yZWxlYXNlKGtleSk7XG4gICAgaWYgKCFyZXBsYWNlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGlvblN0YXJ0ID0gdGhpcy50ZXh0YXJlYS5zZWxlY3Rpb25TdGFydDtcbiAgICBjb25zdCBzZWxlY3Rpb25FbmQgPSB0aGlzLnRleHRhcmVhLnNlbGVjdGlvbkVuZDtcbiAgICB0aGlzLnRleHRhcmVhLnNldFJhbmdlVGV4dChyZXBsYWNlbWVudCwgc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCk7XG5cbiAgICBjb25zdCBzZWxlY3Rpb25Qb3NpdGlvbiA9IHNlbGVjdGlvblN0YXJ0ICsgcmVwbGFjZW1lbnQubGVuZ3RoO1xuICAgIHRoaXMudGV4dGFyZWEuc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uUG9zaXRpb24sIHNlbGVjdGlvblBvc2l0aW9uKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb252ZXJ0S2V5Ym9hcmRFdmVudFRvS2V5KGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gIGlmIChcbiAgICBldmVudC5hbHRLZXkgfHxcbiAgICBldmVudC5jdHJsS2V5IHx8XG4gICAgZXZlbnQubWV0YUtleSB8fFxuICAgIGV2ZW50LnNoaWZ0S2V5IHx8XG4gICAgZXZlbnQucmVwZWF0IHx8XG4gICAgZXZlbnQuaXNDb21wb3NpbmdcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRklYTUU6IGRvIG5vdCByZWx5IG9uIGV2ZW50LmtleVxuICByZXR1cm4gY29udmVydENoYXJUb0tleShldmVudC5rZXkpO1xufVxuIiwgImltcG9ydCB7IEtleSB9IGZyb20gXCIuLi9rZXkvS2V5XCI7XG5cbmV4cG9ydCBjbGFzcyBDaG9yZCB7XG4gIHByaXZhdGUgcmVhZG9ubHkga2V5czogS2V5W107XG5cbiAgY29uc3RydWN0b3Ioa2V5czogS2V5W10pIHtcbiAgICB0aGlzLmtleXMgPSBkZWR1cGUoa2V5cyk7XG4gIH1cblxuICBlcXVhbHMoY2hvcmQ6IENob3JkKSB7XG4gICAgaWYgKHRoaXMua2V5cy5sZW5ndGggIT09IGNob3JkLmtleXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMua2V5cy5ldmVyeSgoa2V5KSA9PiBjaG9yZC5rZXlzLmluY2x1ZGVzKGtleSkpO1xuICB9XG5cbiAgY29udGFpbnMoa2V5OiBLZXkpIHtcbiAgICByZXR1cm4gdGhpcy5rZXlzLmluY2x1ZGVzKGtleSk7XG4gIH1cblxuICB3aXRob3V0KGtleTogS2V5KSB7XG4gICAgcmV0dXJuIG5ldyBDaG9yZChbLi4udGhpcy5rZXlzXS5maWx0ZXIoKGUpID0+IGUgIT09IGtleSkpO1xuICB9XG5cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5rZXlzLmxlbmd0aDtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWR1cGUoa2V5czogS2V5W10pIHtcbiAgY29uc3QgcmVzdWx0OiBLZXlbXSA9IFtdO1xuXG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBpZiAoIXJlc3VsdC5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCAiaW1wb3J0IHsgS2V5IH0gZnJvbSBcIi4uL2tleS9LZXlcIjtcbmltcG9ydCB7IENob3JkIH0gZnJvbSBcIi4vQ2hvcmRcIjtcbmltcG9ydCB7IENob3JkTWFwIH0gZnJvbSBcIi4vQ2hvcmRNYXBcIjtcblxudHlwZSBLZXlTdGF0ZSA9IFwicHJlc3NlZFwiIHwgXCJyZWxlYXNlZFwiO1xuXG5leHBvcnQgY2xhc3MgQ2hvcmRlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkga2V5U3RhdGVzID0gbmV3IE1hcDxLZXksIEtleVN0YXRlPigpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgbWFwOiBDaG9yZE1hcCkge31cblxuICBwcmVzcyhrZXk6IEtleSkge1xuICAgIHRoaXMua2V5U3RhdGVzLnNldChrZXksIFwicHJlc3NlZFwiKTtcbiAgfVxuXG4gIHJlbGVhc2Uoa2V5OiBLZXkpIHtcbiAgICAvLyBUT0RPOiBpdCdzIGEgYml0IGF3a3dhcmQgdG8gbWFuYWdlIHRoZSBzdGF0ZXMgb2YgdGhlIGtleXMgaGVyZVxuICAgIGlmICh0aGlzLmtleVN0YXRlcy5nZXQoa2V5KSAhPT0gXCJwcmVzc2VkXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmtleVN0YXRlcy5zZXQoa2V5LCBcInJlbGVhc2VkXCIpO1xuXG4gICAgaWYgKFsuLi50aGlzLmtleVN0YXRlc10uZXZlcnkoKFtfLCBzdGF0ZV0pID0+IHN0YXRlID09PSBcInJlbGVhc2VkXCIpKSB7XG4gICAgICBjb25zdCBjaG9yZCA9IGNvbnZlcnRLZXlTdGF0ZXNUb0Nob3JkKHRoaXMua2V5U3RhdGVzKTtcbiAgICAgIHRoaXMua2V5U3RhdGVzLmNsZWFyKCk7XG4gICAgICByZXR1cm4gdGhpcy5tYXAubWFwKGNob3JkKTtcbiAgICB9XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmtleVN0YXRlcy5jbGVhcigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRLZXlTdGF0ZXNUb0Nob3JkKGtleVN0YXRlczogTWFwPEtleSwgS2V5U3RhdGU+KSB7XG4gIHJldHVybiBuZXcgQ2hvcmQoWy4uLmtleVN0YXRlc10ubWFwKChba2V5XSkgPT4ga2V5KSk7XG59XG4iLCAiaW1wb3J0IHsgY29udmVydFN0cmluZ1RvS2V5cywgS2V5IH0gZnJvbSBcIi4uL2tleS9LZXlcIjtcbmltcG9ydCB7IENob3JkIH0gZnJvbSBcIi4vQ2hvcmRcIjtcbmltcG9ydCB7IENob3JkTWFwIH0gZnJvbSBcIi4vQ2hvcmRNYXBcIjtcbmltcG9ydCBjb252ZXJzaW9ucyBmcm9tIFwiLi9KYXBhbmVzZUNob3JkTWFwLmpzb25cIjtcblxuY29uc3QgbWFwcGluZ3MgPSBjb252ZXJzaW9ucy5mbGF0TWFwKCh7IHJvbWFqaXMsIGhpcmFnYW5hIH0pID0+XG4gIHJvbWFqaXNcbiAgICAubWFwKChlKSA9PiBjb252ZXJ0U3RyaW5nVG9LZXlzKGUpKVxuICAgIC5maWx0ZXIoKGUpOiBlIGlzIEtleVtdID0+ICEhZSlcbiAgICAubWFwKChlKSA9PiAoeyBjaG9yZDogbmV3IENob3JkKGUpLCByZXBsYWNlbWVudDogaGlyYWdhbmEgfSkpXG4pO1xuXG5leHBvcnQgY2xhc3MgSmFwYW5lc2VDaG9yZE1hcCBpbXBsZW1lbnRzIENob3JkTWFwIHtcbiAgbWFwKGNob3JkOiBDaG9yZCkge1xuICAgIGNvbnN0IGNob3JkV2l0aG91dFNwYWNlID0gY2hvcmQud2l0aG91dChcInNwYWNlXCIpO1xuICAgIGNvbnN0IG1hcHBpbmcgPSBmaW5kTWFwcGluZyhjaG9yZFdpdGhvdXRTcGFjZSk7XG4gICAgaWYgKCFtYXBwaW5nKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICBpZiAoY2hvcmQuY29udGFpbnMoXCJzcGFjZVwiKSkge1xuICAgICAgaWYgKGlzVm93ZWwoY2hvcmRXaXRob3V0U3BhY2UpKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiXHUzMDYzXCIgKyBtYXBwaW5nLnJlcGxhY2VtZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXBwaW5nLnJlcGxhY2VtZW50O1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRNYXBwaW5nKGNob3JkOiBDaG9yZCkge1xuICByZXR1cm4gbWFwcGluZ3MuZmluZCgoZSkgPT4gZS5jaG9yZC5lcXVhbHMoY2hvcmQpKTtcbn1cblxuZnVuY3Rpb24gaXNWb3dlbChjaG9yZDogQ2hvcmQpIHtcbiAgaWYgKGNob3JkLnNpemUoKSAhPT0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHZvd2VsczogS2V5W10gPSBbXCJhXCIsIFwiaVwiLCBcInVcIiwgXCJlXCIsIFwib1wiXTtcbiAgcmV0dXJuIHZvd2Vscy5zb21lKChlKSA9PiBjaG9yZC5jb250YWlucyhlKSk7XG59XG4iLCAiaW1wb3J0IHsgRWRpdG9yIH0gZnJvbSBcIi4vY29udHJvbGxlci9FZGl0b3JcIjtcbmltcG9ydCB7IENob3JkZXIgfSBmcm9tIFwiLi9kb21haW4vY2hvcmQvQ2hvcmRlclwiO1xuaW1wb3J0IHsgSmFwYW5lc2VDaG9yZE1hcCB9IGZyb20gXCIuL2RvbWFpbi9jaG9yZC9KYXBhbmVzZUNob3JkTWFwXCI7XG5cbmZ1bmN0aW9uIG1haW4oKSB7XG4gIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0b3JcIik7XG4gIGlmICghKHRleHRhcmVhIGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBuZXcgRWRpdG9yKHRleHRhcmVhLCBuZXcgQ2hvcmRlcihuZXcgSmFwYW5lc2VDaG9yZE1hcCgpKSk7XG59XG5cbm1haW4oKTtcbiJdLAogICJtYXBwaW5ncyI6ICJNQTZCTyxXQUEwQixFQUErQixDQUM5RCxHQUFJLEVBQUssU0FBVyxFQUlwQixJQUFJLElBQVMsSUFDWCxNQUFPLFFBR1QsR0FBSSxFQUFLLE1BQU0sVUFBVSxFQUN2QixNQUFPLEdBQUssWUFBWSxFQUU1QixDQUVPLFdBQTZCLEVBQWdCLENBQ2xELEdBQU0sR0FBYyxDQUFDLEVBRXJCLE9BQVcsS0FBUSxHQUFRLENBQ3pCLEdBQU0sR0FBTSxFQUFpQixDQUFJLEVBQ2pDLEdBQUksQ0FBQyxFQUNILE9BRUYsRUFBSyxLQUFLLENBQUcsQ0FDZixDQUVBLE1BQU8sRUFDVCxDQ3BETyxXQUFh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
